var o=Object.defineProperty;var c=(s,t,e)=>t in s?o(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var i=(s,t,e)=>(c(s,typeof t!="symbol"?t+"":t,e),e),r=(s,t,e)=>{if(!t.has(s))throw TypeError("Cannot "+e)},n=(s,t,e)=>(r(s,t,"read from private field"),e?e.call(s):t.get(s)),d=(s,t,e,l)=>(r(s,t,"write to private field"),l?l.call(s,e):t.set(s,e),e);var a;class DatePicker{constructor(){i(this,"monthData",["January","February","March","April","May","June","July","August","September","October","November","December"]);a.set(this,{data:"",date:0,month:0,year:0});i(this,"selectedDate",{data:"",date:0,month:0,year:0});i(this,"datePickerEl");i(this,"dateInputEl");i(this,"calendarEl");i(this,"calendarMonthEl");i(this,"monthContentEl");i(this,"nextBtnEl");i(this,"prevBtnEl");i(this,"calendarDatesEl");this.initCalendarDate(),this.assignElement(),this.addEvent()}initCalendarDate(){const t=new Date,e=t.getDate(),l=t.getMonth(),h=t.getFullYear();d(this,a,{data:t,date:e,month:l,year:h})}assignElement(){this.datePickerEl=document.getElementById("date-picker"),this.dateInputEl=this.datePickerEl.querySelector("#date-input"),this.calendarEl=this.datePickerEl.querySelector("#calendar"),this.calendarMonthEl=this.datePickerEl.querySelector("#month"),this.monthContentEl=this.calendarMonthEl.querySelector("#content"),this.nextBtnEl=this.calendarMonthEl.querySelector("#next"),this.prevBtnEl=this.calendarMonthEl.querySelector("#prev"),this.calendarDatesEl=this.calendarEl.querySelector("#dates")}addEvent(){this.dateInputEl.addEventListener("click",this.toggleCalendar.bind(this)),this.nextBtnEl.addEventListener("click",this.moveToNextMonth.bind(this)),this.prevBtnEl.addEventListener("click",this.moveToPrevMonth.bind(this)),this.calendarDatesEl.addEventListener("click",this.onClickSelectDate.bind(this))}onClickSelectDate(t){const e=t.target;e.dataset.date&&(this.calendarDatesEl.querySelector(".selected")?.classList.remove("selected"),e.classList.add("selected"),this.selectedDate={data:new Date(n(this,a).year,n(this,a).month,e.dataset.date),date:e.dataset.date,month:n(this,a).month,year:n(this,a).year},this.dateInputEl.textContent=this.formatDate(this.selectedDate.data),this.dateInputEl.dataset.value=this.selectedDate.data,console.log(this.dateInputEl.textContent))}formatDate(t){let e=t.getDate();e<10&&(e=`0${e}`);let l=t.getMonth()+1;return l<10&&(l=`0${l}`),`${t.getFullYear()}/${l}/${e}`}moveToNextMonth(t){n(this,a).month++,n(this,a).month>11&&(n(this,a).month=0,n(this,a).year++),this.updateMonth(),this.updateDates()}moveToPrevMonth(t){n(this,a).month--,n(this,a).month<0&&(n(this,a).month=11,n(this,a).year--),this.updateMonth(),this.updateDates()}toggleCalendar(t){this.calendarEl.classList.toggle("active"),this.updateMonth(),this.updateDates()}updateMonth(){this.monthContentEl.textContent=`${n(this,a).year} / ${this.monthData[n(this,a).month]}`}updateDates(){this.calendarDatesEl.innerHTML="";const t=new Date(n(this,a).year,n(this,a).month+1,0).getDate(),e=new DocumentFragment;for(let l=0;l<t;l++){const h=document.createElement("div");h.classList.add("date"),h.textContent=l+1,h.dataset.date=l+1,e.appendChild(h)}e.firstChild.style.gridColumnStart=new Date(n(this,a).year,n(this,a).month,1).getDay()+1,this.calendarDatesEl.appendChild(e),this.colorSaturday(),this.colorSunday(),this.markToday()}colorSaturday(){const t=this.calendarDatesEl.querySelectorAll(`.date:nth-child(7n+${7-new Date(n(this,a).year,n(this,a).month,1).getDay()})`);for(let e=0;e<t.length;e++)t[e].style.color="blue"}colorSunday(){const t=this.calendarDatesEl.querySelectorAll(`.date:nth-child(7n+${(8-new Date(n(this,a).year,n(this,a).month,1).getDay())%7})`);for(let e=0;e<t.length;e++)t[e].style.color="red"}markToday(){const t=new Date,e=t.getMonth(),l=t.getFullYear(),h=t.getDate();l===n(this,a).year&&e===n(this,a).month&&this.calendarDatesEl.querySelector(`[data-date='${h}']`)?.classList.add("today")}}a=new WeakMap,new DatePicker;
